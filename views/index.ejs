<!DOCTYPE html>
<html lang="en" dir="ltr">
  <%- include('./component/head.ejs')%>
  <body>
    <%- include('./component/nav.ejs')%>
    <h1>All Appointments</h1>
    <div class="blogs content">
      <% if(appointments.length > 0){ %>
        <table class="appointments-table">
          <thead>
            <tr>
              <th>BookingID</th>
              <th>Customer Name</th>
              <th>Pet Name</th>
              <th>Service Name </th>
              <th>Booking Date</th>
            </tr>
          </thead>
          <tbody>
            <% appointments.forEach((booking) => { %>
              <tr>
                <td><%= booking.bookingID %></td>
                <td><%= booking.customerName %></td>
                <td><%= booking.petName %></td>
                <td><%= booking.spaserviceName %></td>
                <td><%= formatDate(booking.bookingDate) %></td>
                <td><a href="/appointments/<%= booking.bookingID %>/update/">Update</a></td>
                <td><a  href="/appointments/delete/<%= booking.bookingID %>/" class="delete"  data-doc="<%= booking.bookingID%> "> Delete</a></td>
            
              </tr>
            <% }); %>
          </tbody>
        </table>
      <% } else { %>
        <h2>There is nothing to display.</h2>
      <% } %>
    </div>
    <%- include('./component/footer.ejs')%>
    <style>
      /* Add basic table styles for borders */
      .appointments-table {
        width: 100%;
        border-collapse: collapse;
      }
      .appointments-table th, .appointments-table td {
        border: 1px solid #2b2b2b;
        padding: 8px;
        text-align: left;
      }
    
      .appointments-table th {
        background-color: #f79494;
      }
    </style>
    <% 
      function formatDate(dateString) {
        const options = { day: '2-digit', month: '2-digit', year: 'numeric' };
        const date = new Date(dateString);
        return date.toLocaleDateString('en-GB', options);
      }
     
    %>

  
  </body>
</html>
